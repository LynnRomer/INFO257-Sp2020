# Creating a MariaDB Container Application
Note for Windows 10 Users: Run these commands in PowerShell

*First Build the image using Dockerfile in current directory named munners17/mariadb-local*  
*(note the space before the period at the end)*  
1. `docker build -t munners17/mariadb-local .`

*Next, use run command that both creates docker container and starts the container with configuration defined by arguments*  
*Change "mypass" to desired password for accessing the database*  
2. `docker run -d --name mariadb-diveshop -p 3306:3306 -e MYSQL_ROOT_PASSWORD=mypass --mount type=volume,source=mysqlDB,target=/var/lib/mysql --mount type=bind,source="${PWD}"/datadir,target=/home/ --restart always munners17/mariadb-local`

*docker run arguments used:*  
   *--name: name the container. Refer to this (or the autogenerated containerID) when accessing the container through docker*  
   
   *-p [host port:container port]: map the port the conatiner's mysql server listens on (3306, the default for mysqld) to the same port on the host. This enables **host** mysql clients (e.g. MYSQLWorkbench) to point to localhost machine and see the **container's** mysql server and DB. If you already have a mysql server running on your host, it is probably already bound to 3306 and the container mapping will fail. Change the first port number (the host's) to prevent conflict (e.g. 3307:3306)*  
  
   *-e MYSQL_ROOT_PASSWORD: set environment variable the container is configured to read upon initialization to configure the mysql root password to allow for remote root access*  
   
   *--mount: set a docker mount pointed to the mysql database so that it persists in case container is deleted/removed. set another mount to your host system so you can easily share files back and forth from container to host (/home/ on container is connected to datadir/ subdirectory of the mariaDB directory)*  
   
   *--restart: allow container to auto start when ever docker engine boots up (allows container to boot up when computer restarts)*  
